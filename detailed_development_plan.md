flutter emulators
запуск приложения flutter emulators --launch Medium_Phone_API_36
# Детальный план разработки приложения Autoservice (Flutter)



Этот документ содержит подробные шаги для разработки мобильного приложения Autoservice.

## 1. Настройка проекта Flutter

*   [ ] Инициализировать новый проект Flutter: `flutter create autoservice`
*   [ ] Настроить структуру папок:
    *   `lib/src/core` (базовая логика, утилиты, сеть)
    *   `lib/src/features` (модули приложения)
    *   `lib/src/shared` (общие виджеты, модели)
*   [ ] Добавить зависимости в `pubspec.yaml`:
    *   `http` или `dio` (для сетевых запросов)
    *   `provider` или `flutter_riverpod` (для управления состоянием)
    *   `shared_preferences` или `flutter_secure_storage` (для хранения токена)
    *   (Другие необходимые зависимости)
*   [ ] Настроить базовую конфигурацию (темы, роутинг и т.д.).

## 2. Модуль аутентификации

*   [ ] Создать модели данных для пользователя и токена.
*   [ ] Реализовать сервис аутентификации (`AuthService`):
    *   Метод `login(username, password)`
    *   Метод `register(username, password, phone, firstname)`
*   [ ] Создать провайдер/контроллер состояния аутентификации (`AuthProvider`/`AuthController`).
*   [ ] Создать UI:
    *   Экран входа (`LoginScreen`)
    *   Экран регистрации (`RegisterScreen`)
*   [ ] Интегрировать UI с сервисом и управлением состоянием.
*   [ ] Реализовать сохранение/удаление токена при входе/выходе.
*   [ ] Настроить навигацию после входа/выхода.

## 3. Создание меню

*   [X] Реализовать компонент Header (верхнее меню/AppBar)
    *   [X] Отображение заголовка текущего экрана
    *   [ ] Кнопка "назад" (если применимо)
    *   [ ] Иконка/кнопка для вызова бокового меню (Drawer) или меню пользователя
    *   [X] Действия в AppBar (например, поиск, фильтры, выход) // Частично: выход реализован
*   [X] Реализовать компонент Footer (нижняя панель навигации/BottomNavigationBar)
    *   [X] Основные навигационные вкладки (например, Главная, Каталог, Заявки, Профиль)
    *   [X] Индикация активной вкладки
*   [ ] (Опционально) Реализовать боковое меню (Drawer)
    *   [ ] Дополнительные навигационные ссылки
    *   [ ] Информация о пользователе
    *   [ ] Кнопка выхода
*   [X] Интегрировать Header, Footer и Drawer в основные макеты/экраны приложения.
*   [X] Обеспечить адаптивность меню для различных состояний (например, аутентифицирован/не аутентифицирован). // Частично: меню есть только у аутентифицированного

## 4. Модуль данных (Общие сущности)

*   [ ] Создать модели данных:
    *   `Brand`
    *   `Model`
    *   `Message` (для локализации)
    *   `Region`
    *   `Service`
    *   `ServiceCategory`
    *   `SourceMessage`
*   [ ] Реализовать сервисы для получения данных (`DataService` или отдельные сервисы):
    *   `getBrands(page)`
    *   `getModels()`
    *   `getMessages()`
    *   `getRegions()`
    *   `getServices()`
    *   `getServiceCategories()`
    *   `getSourceMessages()`
    *   `createSourceMessage(data)`
    *   `updateSourceMessage(id, data)`
*   [ ] Создать провайдеры/контроллеры состояния для управления этими данными.
*   [ ] Реализовать UI для отображения списков (если требуется отдельное отображение):
    *   Виджеты для выбора бренда/модели.
    *   Экран/виджет для отображения услуг/категорий.
*   [ ] Интегрировать получение данных с API, включая обработку токена и пагинацию.

## 5. Модуль Партнеры 

*   [ ] Создать модель данных `Partner`.
*   [ ] Реализовать сервис `PartnerService`:
    *   `getPartners()`
    *   `createPartner(formData)`
    *   `updatePartner(id, formData)`
*   [ ] Создать провайдер/контроллер состояния `PartnerProvider`/`PartnerController`.
*   [ ] Создать UI:
    *   Экран списка партнеров (`PartnersListScreen`)
    *   Экран деталей партнера (`PartnerDetailScreen`)
    *   Экран/форма создания/редактирования партнера (`PartnerEditScreen`)
*   [ ] Интегрировать UI с сервисом и состоянием.
*   [ ] Обработать загрузку `form-data` для создания/редактирования.

## 6. Модуль Услуги Партнеров 

*   [ ] Создать модель данных `PartnerService`.
*   [ ] Реализовать сервис `PartnerServicesService`:
    *   `getPartnerServices(partnerId)` (или общий `getPartnerServices()`)
    *   `createPartnerService(data)`
    *   `updatePartnerService(id, data)`
    *   `deletePartnerService(id)`
*   [ ] Создать провайдер/контроллер состояния.
*   [ ] Интегрировать отображение/управление услугами партнера (вероятно, в `PartnerDetailScreen`).

## 7. Модуль Рабочее время партнеров 

*   [ ] Создать модель данных `PartnerWorkTime`.
*   [ ] Реализовать сервис `PartnerWorkTimeService`:
    *   `getPartnerWorkTimes(partnerId)` (или общий `getPartnerWorkTimes()`)
    *   `createPartnerWorkTime(data)`
    *   `updatePartnerWorkTime(id, data)`
    *   `deletePartnerWorkTime(id)`
*   [ ] Создать провайдер/контроллер состояния.
*   [ ] Интегрировать отображение/управление рабочим временем (вероятно, в `PartnerDetailScreen`).

## 8. Модуль Автомобили пользователей 

*   [ ] Создать модель данных `UserCar`.
*   [ ] Реализовать сервис `UserCarService`:
    *   `getUserCars()`
    *   `createUserCar(data)`
    *   `updateUserCar(id, data)`
    *   `deleteUserCar(id)`
*   [ ] Создать провайдер/контроллер состояния.
*   [ ] Создать UI:
    *   Экран списка автомобилей пользователя (`UserCarsScreen`)
    *   Экран/форма добавления/редактирования автомобиля (`UserCarEditScreen`)
*   [ ] Интегрировать UI с сервисом и состоянием.

## 9. Модуль Заявки пользователей 

*   [ ] Создать модель данных `UserRequest`.
*   [ ] Реализовать сервис `UserRequestService`:
    *   `getUserRequests()`
    *   `getPartnerRequests(partnerId)`
    *   `createUserRequest(data)`
    *   `updateUserRequest(id, data)`
    *   `deleteUserRequest(id)`
*   [ ] Создать провайдер/контроллер состояния.
*   [ ] Создать UI:
    *   Экран списка заявок пользователя (`UserRequestsScreen`)
    *   Экран/форма создания/редактирования заявки (`UserRequestEditScreen`)
    *   (Возможно) Экран списка заявок для партнера (`PartnerRequestsScreen`)
*   [ ] Интегрировать UI с сервисом и состоянием.

## 10. Управление состоянием 

*   [ ] Финализировать выбор (Provider/Riverpod/Bloc).
*   [ ] Структурировать управление состоянием для всех модулей.
*   [ ] Обеспечить корректное обновление UI при изменении данных.

## 11. Сетевое взаимодействие 

*   [ ] Настроить базовый HTTP клиент (`http` или `dio`).
*   [ ] Реализовать интерцептор для автоматического добавления Bearer token.
*   [ ] Реализовать глобальную обработку ошибок API (401, 403, 5xx, ошибки сети).
*   [ ] Определить базовый URL и управление окружениями (dev/prod).

## 12. Локализация 

*   [ ] Интегрировать механизм локализации Flutter.
*   [ ] Реализовать загрузку строк из API (`/source-messages` и `/messages`).
*   [ ] Обеспечить использование локализованных строк во всем приложении.

## 13. Тестирование 

*   [ ] Написать Unit-тесты для сервисов и логики управления состоянием.
*   [ ] Написать Widget-тесты для ключевых экранов и виджетов.
*   [ ] (Опционально) Настроить Integration-тесты.

## 14. Сборка и развертывание 

*   [ ] Настроить сборку для Android и iOS.
*   [ ] Подготовить иконки и сплэш-скрины.
*   [ ] Настроить CI/CD (если требуется).

*(Этот план будет дополняться и уточняться в процессе разработки)*


просмотр списка эмуляторов
flutter emulators
запуск приложения flutter emulators --launch Medium_Phone_API_36

